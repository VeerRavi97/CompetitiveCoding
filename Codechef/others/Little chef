#include<bits/stdc++.h>
using namespace std;
bool flag[1005];
bool isRep(int n)
{
    memset(flag,0,sizeof(flag));
    while(n%2==0)
    {
        if(!flag[2])
            flag[2]=true;
        else
            return true;
        n=n/2;

    }
    int m=sqrt(n);

    for(int i=3;i<=m;i+=2)
    {
        while(n%i==0)
        {
             if(!flag[i])
            flag[i]=true;
             else
            return true;

         n=n/i;

        }

    }
    return false;

}
int main()
{
    ios :: sync_with_stdio(0);
    cin.tie(0);

    int tc;
    cin >> tc;


    while(tc--)
    {
      int n;
      cin >> n;
      vector <int >arr;
      int count=0;
      for(int i=0;i<n;i++)
      {
          int se;
          cin >> se;
          arr.push_back(se);
      }
      int count2=0;
      for(int i=0;i<n;i++)
      {
          if(arr[i]==1)
            count2++;
      }
      if(count2==n)
      {int  n2=n;
          while(n2>0)
          {
              count+=n2;
              n2--;

          }
      }
      else
      {


      for(int i=0;i<n;i++)
      {

            if(!isRep(arr[i]))
            {
                count++;
                int prod=arr[i];
                for(int j=i+1;j<n;j++)
                {
                    prod*=arr[j];
                    if(isRep(prod))
                           break;
                      else
                        count ++;
                }

             }
      }
      }

    cout << count << "\n";
}
}
