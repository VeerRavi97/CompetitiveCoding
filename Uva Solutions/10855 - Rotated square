
#include<bits/stdc++.h>
using namespace std;
 char a[1000][1000],b[1000][1000],c[1000][1000];

int main()
{
  int N,n,count,ans;
 

  while((scanf("%d%d",&N,&n)),(N || n) )
  {
      int rot;

      for(int i=0;i<N;i++)
       scanf("%s",&a[i]);
    for(int i=0;i<n;i++)
        scanf("%s",&b[i]);
      for(rot=0;rot<4;rot++)
      {
          if(rot)
          {
            for(int i=0;i<n;i++) for(int j=0;j<n;j++)
             c[j][n-1-i]=b[i][j];
             for(int i=0;i<n;i++) for(int j=0;j<n;j++)
             b[i][j]=c[i][j];

          }
            ans=0;
          for(int i=0;i<N-n+1;i++)
            for(int j=0;j<N-n+1;j++)
              {
                count=0;
                  for(int k=0;k<n;k++)
                     for(int l=0;l<n;l++)
                      if(b[k][l]==a[i+k][j+l])
                        count++;
             if(count==n*n)
                    ans++;


              }
           printf("%d",ans);

              if(rot<3)
                printf(" ");
              else
                printf("\n");
      }
  }
  return 0;
}
